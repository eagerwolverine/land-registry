{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rajde\\\\Desktop\\\\Land-Registry-Application\\\\src\\\\Components\\\\Govt_Login.js\";\nimport React, { Component } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport { Container } from '@material-ui/core';\nimport SendIcon from '@material-ui/icons/Send';\nimport axios from 'axios';\nimport { withRouter, Redirect } from 'react-router-dom';\nimport Land from '../abis/LandRegistry.json';\nimport { withStyles } from '@material-ui/core/styles';\nconst styles = () => ({\n  root: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%,-50%)',\n    '& .MuiFormLabel-root': {\n      color: '#fff'\n    },\n    '&  .MuiInputBase-root': {\n      color: '#fff'\n    },\n    '&  .MuiInput-underline:before': {\n      borderBottomColor: '#fff'\n    },\n    '&  .MuiInput-underline:after': {\n      borderBottomColor: '#fff'\n    },\n    '&  .MuiInput-underline:hover': {\n      borderBottomColor: '#fff'\n    },\n    '& .MuiButton-containedPrimary': {\n      backgroundColor: '#328888',\n      fontFamily: \"'Roboto Condensed', sans-serif\"\n    }\n  }\n});\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.componentDidMount = async () => {\n      const web3 = window.web3;\n      const acc = await window.localStorage.getItem('web3account');\n      this.setState({\n        account: acc\n      });\n      console.log(acc);\n      const networkId = await web3.eth.net.getId();\n      const LandData = Land.networks[networkId];\n      if (LandData) {\n        const landList = new web3.eth.Contract(Land.abi, LandData.address);\n        this.setState({\n          landList\n        });\n      } else {\n        window.alert('Token contract not deployed to detected network.');\n      }\n      if (window.localStorage.getItem('authenticated') === 'true') this.props.history.push('/dashboard_govt');\n    };\n    this.handleChange = name => event => {\n      this.setState({\n        [name]: event.target.value\n      });\n    };\n    this.handleSubmit = async () => {\n      let data = {\n        username: this.state.username,\n        password: this.state.password\n      };\n      if (this.state.username && this.state.password) {\n        axios.post('http://localhost:3001/login', data).then(response => {\n          if (response.status == 200) {\n            window.alert('Login Successful');\n            window.localStorage.setItem('authenticated', true);\n            console.log(response.data);\n            window.localStorage.setItem('token', response.data);\n\n            // this.setState({ user: response.data })\n            // console.log(this.state.user)\n            window.location = '/dashboard_govt';\n            this.setState({\n              username: '',\n              password: ''\n            });\n          } else {\n            this.setState({\n              loading: false\n            });\n            alert('Wrong Credentials');\n            this.setState({\n              username: '',\n              password: ''\n            });\n          }\n        });\n      } else {\n        alert('All fields are required');\n      }\n    };\n    this.state = {\n      username: '',\n      password: '',\n      authenticated: false\n    };\n  }\n  render() {\n    const {\n      classes,\n      assetList\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-bg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      style: {\n        marginTop: '40px'\n      },\n      className: classes.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }\n    }, \"Government Portal\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      id: \"standard-full-width\",\n      type: \"username\",\n      label: \"Username\",\n      placeholder: \"Enter Your Username\",\n      fullWidth: true,\n      value: this.state.username,\n      margin: \"normal\",\n      InputLabelProps: {\n        shrink: true\n      },\n      onChange: this.handleChange('username'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      id: \"standard-full-width\",\n      type: \"password\",\n      label: \"Password\",\n      placeholder: \"Enter Your Password\",\n      fullWidth: true,\n      value: this.state.password,\n      margin: \"normal\",\n      InputLabelProps: {\n        shrink: true\n      },\n      onChange: this.handleChange('password'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: '20px',\n        textAlign: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      endIcon: /*#__PURE__*/React.createElement(SendIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 26\n        }\n      }, \"submit\"),\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 15\n      }\n    }, \"Login\")))));\n  }\n}\nexport default withStyles(styles)(Login);","map":{"version":3,"names":["React","Component","TextField","Grid","Button","Container","SendIcon","axios","withRouter","Redirect","Land","withStyles","styles","root","position","top","left","transform","color","borderBottomColor","backgroundColor","fontFamily","Login","constructor","props","componentDidMount","web3","window","acc","localStorage","getItem","setState","account","console","log","networkId","eth","net","getId","LandData","networks","landList","Contract","abi","address","alert","history","push","handleChange","name","event","target","value","handleSubmit","data","username","state","password","post","then","response","status","setItem","location","loading","authenticated","render","classes","assetList","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","id","type","label","placeholder","fullWidth","margin","InputLabelProps","shrink","onChange","textAlign","variant","endIcon","onClick"],"sources":["C:/Users/rajde/Desktop/Land-Registry-Application/src/Components/Govt_Login.js"],"sourcesContent":["import React, { Component } from 'react'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Button from '@material-ui/core/Button'\r\nimport { Container } from '@material-ui/core'\r\nimport SendIcon from '@material-ui/icons/Send'\r\nimport axios from 'axios'\r\nimport { withRouter, Redirect } from 'react-router-dom'\r\nimport Land from '../abis/LandRegistry.json'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst styles = () => ({\r\n  root: {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%,-50%)',\r\n    '& .MuiFormLabel-root': {\r\n      color: '#fff',\r\n    },\r\n    '&  .MuiInputBase-root': {\r\n      color: '#fff',\r\n    },\r\n    '&  .MuiInput-underline:before': {\r\n      borderBottomColor: '#fff',\r\n    },\r\n    '&  .MuiInput-underline:after': {\r\n      borderBottomColor: '#fff',\r\n    },\r\n    '&  .MuiInput-underline:hover': {\r\n      borderBottomColor: '#fff',\r\n    },\r\n    '& .MuiButton-containedPrimary': {\r\n      backgroundColor: '#328888',\r\n      fontFamily: \"'Roboto Condensed', sans-serif\",\r\n    },\r\n  },\r\n})\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n      authenticated: false,\r\n    }\r\n  }\r\n  componentDidMount = async () => {\r\n    const web3 = window.web3\r\n    const acc = await window.localStorage.getItem('web3account')\r\n    this.setState({ account: acc })\r\n    console.log(acc)\r\n    const networkId = await web3.eth.net.getId()\r\n    const LandData = Land.networks[networkId]\r\n    if (LandData) {\r\n      const landList = new web3.eth.Contract(Land.abi, LandData.address)\r\n      this.setState({ landList })\r\n    } else {\r\n      window.alert('Token contract not deployed to detected network.')\r\n    }\r\n\r\n    if (window.localStorage.getItem('authenticated') === 'true')\r\n      this.props.history.push('/dashboard_govt')\r\n  }\r\n  handleChange = (name) => (event) => {\r\n    this.setState({ [name]: event.target.value })\r\n  }\r\n  handleSubmit = async () => {\r\n    let data = {\r\n      username: this.state.username,\r\n      password: this.state.password,\r\n    }\r\n    if (this.state.username && this.state.password) {\r\n      axios.post('http://localhost:3001/login', data).then((response) => {\r\n        if (response.status == 200) {\r\n          window.alert('Login Successful')\r\n          window.localStorage.setItem('authenticated', true)\r\n          console.log(response.data)\r\n          window.localStorage.setItem('token', response.data)\r\n\r\n          // this.setState({ user: response.data })\r\n          // console.log(this.state.user)\r\n          window.location = '/dashboard_govt'\r\n          this.setState({\r\n            username: '',\r\n            password: '',\r\n          })\r\n        } else {\r\n          this.setState({ loading: false })\r\n          alert('Wrong Credentials')\r\n          this.setState({\r\n            username: '',\r\n            password: '',\r\n          })\r\n        }\r\n      })\r\n    } else {\r\n      alert('All fields are required')\r\n    }\r\n  }\r\n  render() {\r\n    const { classes, assetList } = this.props\r\n\r\n    return (\r\n      <div className=\"profile-bg\">\r\n        <Container style={{ marginTop: '40px' }} className={classes.root}>\r\n          <div className=\"login-text\">Government Portal</div>\r\n          <div className=\"input\">\r\n            <TextField\r\n              id=\"standard-full-width\"\r\n              type=\"username\"\r\n              label=\"Username\"\r\n              placeholder=\"Enter Your Username\"\r\n              fullWidth\r\n              value={this.state.username}\r\n              margin=\"normal\"\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n              onChange={this.handleChange('username')}\r\n            />\r\n            <TextField\r\n              id=\"standard-full-width\"\r\n              type=\"password\"\r\n              label=\"Password\"\r\n              placeholder=\"Enter Your Password\"\r\n              fullWidth\r\n              value={this.state.password}\r\n              margin=\"normal\"\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n              onChange={this.handleChange('password')}\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <div style={{ marginTop: '20px', textAlign: 'center' }}>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                endIcon={<SendIcon>submit</SendIcon>}\r\n                onClick={this.handleSubmit}\r\n              >\r\n                Login\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Container>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default withStyles(styles)(Login)\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}